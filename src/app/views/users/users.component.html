<div class="users__action-bar">
	<app-headline title="Users"></app-headline>
	<a routerLink="/user-create" class="button">
		 + new employee
	</a>
</div>

<form class="users__form" [formGroup]="searchForm" (ngSubmit)="search()">
	<div class="form-group">
		<label for="firstName" class="form-label">
			First Name
		</label>
		<input 
			type="text" 
			class="users__search-input"
			formControlName="firstName"
		/>
	</div>

	<div class="form-group">
		<label for="firstName" class="form-label">
			Last Name
		</label>
		<input 
			type="text" 
			class="form-control users__search-input"
			formControlName="lastName"
		/>
	</div>
	<button type="submit" class="button">Search</button>
</form>

<table class="table">
	<thead>
		<tr>
			<th>First Name</th>
			<th>Last Name</th>
			<th>Email</th>
			<th>Actions</th>
		</tr>
	</thead>
	<tbody>
		<tr *ngFor="let user of usersList">
			<td>{{ user.FirstName }}</td>
			<td>{{ user.LastName }}</td>
			<td>{{ user.Email }}</td>
			<td>
				<a class="table__button" [routerLink]="['/user-absences', user.Id]">
					Absences
				</a>

				<a class="table__button" [routerLink]="['/user-absences-create', user.Id]">
					Create Absence
				</a>
			</td>
		</tr>
    <tr *ngIf="loading">
      <td colspan="4">
        Loading...
      </td>
    </tr>

    <tr *ngIf="error">
      <td colspan="4">
        Something went wrong. Please check the settings.
      </td>
    </tr>
	</tbody>
</table>